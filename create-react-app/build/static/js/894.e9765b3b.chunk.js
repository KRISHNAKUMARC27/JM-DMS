"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[894],{2566:function(e,a,t){t.r(a);var s=t(7313),r=t(9019),l=t(3306),c=t(8797),n=t(1405),o=t(4631),i=t(1095),d=t(3497),u=t(2401),h=t(9881),g=t(3984),m=t(3483),x=t(6417);a.default=function(e){let{data:a,setLaborUpdateOpen:t,fetchAllLaborData:b}=e;const[j,y]=(0,s.useState)(a||{}),[v,f]=(0,s.useState)([]),[p,Z]=s.useState(!1),[C,_]=s.useState(""),[w,k]=s.useState("");(0,s.useEffect)((()=>(L(),()=>{y({}),f([])})),[]),(0,s.useEffect)((()=>{y(a||{})}),[a]);const L=async()=>{try{const e=await(0,m.A_)("/api/labor/laborCategory");f(e)}catch(e){console.error(e.message)}};return(0,x.jsxs)("div",{children:[(0,x.jsx)(d.Z,{title:"Enter Labor Details",children:(0,x.jsxs)(r.ZP,{container:!0,direction:"row",spacing:u.dv,children:[(0,x.jsxs)(r.ZP,{item:!0,xs:3,children:[(0,x.jsx)(l.Z,{id:"demo-select-small",required:!0,children:"Category Type"}),(0,x.jsx)(c.Z,{labelId:"demo-select-small",id:"demo-select-small",value:j.category||"",label:"Category Type",onChange:e=>{const a={...j,category:e.target.value};y(a)},children:v.map((e=>(0,x.jsx)(n.Z,{value:e.category,children:e.category},e.id)))})]}),(0,x.jsxs)(r.ZP,{item:!0,xs:6,children:[(0,x.jsx)("br",{}),(0,x.jsx)(o.Z,{label:"Labor Description",required:!0,variant:"standard",fullWidth:!0,value:j.desc||"",onChange:e=>{const a={...j,desc:e.target.value};y(a)}})]}),(0,x.jsx)(r.ZP,{item:!0,xs:4,children:(0,x.jsx)(o.Z,{label:"Amount",required:!0,variant:"outlined",value:j.amount||"",onChange:e=>{const a={...j,amount:e.target.value};y(a)}})})]})}),(0,x.jsx)("br",{}),(0,x.jsx)("div",{className:"content",children:j.category&&j.desc&&null!==j.amount&&void 0!==j.amount&&(0,x.jsx)(i.Z,{variant:"contained",color:"error",onClick:()=>(async e=>{try{const a=await(0,m.j0)("/api/labor",e);b&&b(),t&&t(!1),_(a.desc+" added successfully "),k("success"),Z(!0),console.log(a)}catch(a){console.log(a.message),_(a.message),k("info"),Z(!0)}})(j),children:"Add/Update Labor"})}),p&&(0,x.jsx)(g.Z,{sx:{width:"100%"},spacing:2,children:(0,x.jsx)(h.Z,{variant:"filled",severity:w,onClose:()=>Z(!1),children:C})})]})}}}]);
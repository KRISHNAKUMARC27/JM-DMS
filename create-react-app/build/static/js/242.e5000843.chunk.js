"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[242],{9242:function(e,t,r){r.r(t),r.d(t,{default:function(){return G}});var n=r(7313),s=r(9019),i=r(7592),a=r(9860),o=r(7829),l=r(8119),c=r(1095),d=r(1113),h=r(8446),x=r(3497);var m={type:"line",height:90,options:{chart:{sparkline:{enabled:!0}},dataLabels:{enabled:!1},colors:["#fff"],fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:3},yaxis:{min:2e3,max:1e5},tooltip:{theme:"dark",fixed:{enabled:!1},x:{show:!1},y:{title:"Total Order"},marker:{show:!1}}},series:[{name:"series1",data:[0,44,9,54,45,66,41,69]}]},p=r(1023),j=r(6417);const g=(0,i.ZP)(x.Z)((e=>{let{theme:t}=e;return{backgroundColor:t.palette.primary.dark,color:"#fff",overflow:"hidden",position:"relative","&>div":{position:"relative",zIndex:5},"&:after":{content:'""',position:"absolute",width:210,height:210,background:t.palette.primary[800],borderRadius:"50%",zIndex:1,top:-85,right:-95,[t.breakpoints.down("sm")]:{top:-105,right:-140}},"&:before":{content:'""',position:"absolute",zIndex:1,width:210,height:210,background:t.palette.primary[800],borderRadius:"50%",top:-125,right:-15,opacity:.5,[t.breakpoints.down("sm")]:{top:-155,right:-70}}}}));var u=function(){const e=(0,a.Z)(),[t,r]=(0,n.useState)(),[i,x]=(0,n.useState)(m),[u,Z]=(0,n.useState)("D"),[b,f]=(0,n.useState)(!1);(0,n.useEffect)((()=>(v("D"),()=>{r()})),[]);const v=async e=>{await fetch("http://localhost:8080/stats/revenueEarnings/"+e).then((async e=>{if(!e.ok){const t=await e.text();throw new Error(t||e.statusText)}return e.json()})).then((e=>{r(e),x(e.chartData),f(!0)})).catch((e=>{console.log(e.message)}))},y=e=>{switch(e){case"D":default:f(!1),v("D");break;case"W":f(!1),v("W");break;case"M":f(!1),v("M");break;case"Y":f(!1),v("Y")}Z(e)};return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(g,{border:!1,content:!1,children:(0,j.jsx)(o.Z,{sx:{p:2.25},children:(0,j.jsxs)(s.ZP,{container:!0,direction:"column",children:[(0,j.jsx)(s.ZP,{item:!0,children:(0,j.jsxs)(s.ZP,{container:!0,justifyContent:"space-between",children:[(0,j.jsx)(s.ZP,{item:!0,children:(0,j.jsx)(l.Z,{variant:"rounded",sx:{...e.typography.commonAvatar,...e.typography.largeAvatar,backgroundColor:e.palette.primary[800],color:"#fff",mt:1},children:(0,j.jsx)(p.Z,{fontSize:"inherit"})})}),(0,j.jsxs)(s.ZP,{item:!0,children:[(0,j.jsx)(c.Z,{disableElevation:!0,variant:"D"===u?"contained":"text",size:"small",sx:{color:"inherit",mr:1},onClick:()=>y("D"),children:"Day"}),(0,j.jsx)(c.Z,{disableElevation:!0,variant:"W"===u?"contained":"text",size:"small",sx:{color:"inherit",mr:1},onClick:()=>y("W"),children:"Week"}),(0,j.jsx)(c.Z,{disableElevation:!0,variant:"M"===u?"contained":"text",size:"small",sx:{color:"inherit",mr:1},onClick:()=>y("M"),children:"Month"}),(0,j.jsx)(c.Z,{disableElevation:!0,variant:"Y"===u?"contained":"text",size:"small",sx:{color:"inherit"},onClick:()=>y("Y"),children:"Year"})]})]})}),(0,j.jsx)(s.ZP,{item:!0,sx:{mb:.75},children:(0,j.jsxs)(s.ZP,{container:!0,alignItems:"center",children:[(0,j.jsx)(s.ZP,{item:!0,xs:6,children:(0,j.jsxs)(s.ZP,{container:!0,alignItems:"center",children:[(0,j.jsx)(s.ZP,{item:!0,children:b&&(0,j.jsx)(d.Z,{sx:{fontSize:"2.125rem",fontWeight:500,mr:1,mt:1.75,mb:.75},children:t.grandTotalSum})}),(0,j.jsx)(s.ZP,{item:!0,xs:12,children:(0,j.jsx)(d.Z,{sx:{fontSize:"1rem",fontWeight:500,color:e.palette.primary[200]},children:"Total Revenue"})})]})}),(0,j.jsx)(s.ZP,{item:!0,xs:6,children:b&&(0,j.jsx)(h.Z,{...i})})]})})]})})})})},Z=r(9930);const b=(0,i.ZP)(x.Z)((e=>{let{theme:t}=e;return{backgroundColor:t.palette.secondary.dark,color:"#fff",overflow:"hidden",position:"relative","&>div":{position:"relative",zIndex:5},"&:after":{content:'""',position:"absolute",width:210,height:210,background:t.palette.secondary[800],borderRadius:"50%",zIndex:1,top:-85,right:-95,[t.breakpoints.down("sm")]:{top:-105,right:-140}},"&:before":{content:'""',position:"absolute",zIndex:1,width:210,height:210,background:t.palette.secondary[800],borderRadius:"50%",top:-125,right:-15,opacity:.5,[t.breakpoints.down("sm")]:{top:-155,right:-70}}}}));var f=function(){const e=(0,a.Z)(),[t,r]=(0,n.useState)(),[i,x]=(0,n.useState)(m),[p,g]=(0,n.useState)("D"),[u,f]=(0,n.useState)(!1);(0,n.useEffect)((()=>(v("D"),()=>{r()})),[]);const v=async e=>{await fetch("http://localhost:8080/stats/totalJobCards/"+e).then((async e=>{if(!e.ok){const t=await e.text();throw new Error(t||e.statusText)}return e.json()})).then((e=>{r(e),x(e.chartData),f(!0)})).catch((e=>{console.log(e.message)}))},y=e=>{switch(e){case"D":default:f(!1),v("D");break;case"W":f(!1),v("W");break;case"M":f(!1),v("M");break;case"Y":f(!1),v("Y")}g(e)};return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(b,{border:!1,content:!1,children:(0,j.jsx)(o.Z,{sx:{p:2.25},children:(0,j.jsxs)(s.ZP,{container:!0,direction:"column",children:[(0,j.jsx)(s.ZP,{item:!0,children:(0,j.jsxs)(s.ZP,{container:!0,justifyContent:"space-between",children:[(0,j.jsx)(s.ZP,{item:!0,children:(0,j.jsx)(l.Z,{variant:"rounded",sx:{...e.typography.commonAvatar,...e.typography.largeAvatar,backgroundColor:e.palette.secondary[800],color:"#fff",mt:1},children:(0,j.jsx)(Z.Z,{fontSize:"inherit"})})}),(0,j.jsxs)(s.ZP,{item:!0,children:[(0,j.jsx)(c.Z,{disableElevation:!0,variant:"D"===p?"contained":"text",size:"small",sx:{color:"inherit",mr:1},onClick:()=>y("D"),children:"Day"}),(0,j.jsx)(c.Z,{disableElevation:!0,variant:"W"===p?"contained":"text",size:"small",sx:{color:"inherit",mr:1},onClick:()=>y("W"),children:"Week"}),(0,j.jsx)(c.Z,{disableElevation:!0,variant:"M"===p?"contained":"text",size:"small",sx:{color:"inherit",mr:1},onClick:()=>y("M"),children:"Month"}),(0,j.jsx)(c.Z,{disableElevation:!0,variant:"Y"===p?"contained":"text",size:"small",sx:{color:"inherit"},onClick:()=>y("Y"),children:"Year"})]})]})}),(0,j.jsx)(s.ZP,{item:!0,sx:{mb:.75},children:(0,j.jsxs)(s.ZP,{container:!0,alignItems:"center",children:[(0,j.jsx)(s.ZP,{item:!0,xs:6,children:(0,j.jsxs)(s.ZP,{container:!0,alignItems:"center",children:[(0,j.jsx)(s.ZP,{item:!0,children:u&&(0,j.jsx)(d.Z,{sx:{fontSize:"2.125rem",fontWeight:500,mr:1,mt:1.75,mb:.75},children:t.totalJobCards})}),(0,j.jsx)(s.ZP,{item:!0,xs:12,children:(0,j.jsx)(d.Z,{sx:{fontSize:"1rem",fontWeight:500,color:e.palette.secondary[200]},children:"Total JobCards"})})]})}),(0,j.jsx)(s.ZP,{item:!0,xs:6,children:u&&(0,j.jsx)(h.Z,{...i})})]})})]})})})})},v=r(8310),y=r(194),P=r(2600),k=r(3213);const w=(0,i.ZP)(x.Z)((e=>{let{theme:t}=e;return{backgroundColor:t.palette.primary.dark,color:t.palette.primary.light,overflow:"hidden",position:"relative","&:after":{content:'""',position:"absolute",width:210,height:210,background:`linear-gradient(210.04deg, ${t.palette.primary[200]} -50.94%, rgba(144, 202, 249, 0) 83.49%)`,borderRadius:"50%",top:-30,right:-180},"&:before":{content:'""',position:"absolute",width:210,height:210,background:`linear-gradient(140.9deg, ${t.palette.primary[200]} -14.02%, rgba(144, 202, 249, 0) 77.58%)`,borderRadius:"50%",top:-160,right:-130}}}));var C=e=>{let{totalRevenue:t,name:r}=e;const n=(0,a.Z)();return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(w,{border:!1,content:!1,children:(0,j.jsx)(o.Z,{sx:{p:2},children:(0,j.jsx)(v.Z,{sx:{py:0},children:(0,j.jsxs)(y.ZP,{alignItems:"center",disableGutters:!0,sx:{py:0},children:[(0,j.jsx)(P.Z,{children:(0,j.jsx)(l.Z,{variant:"rounded",sx:{...n.typography.commonAvatar,...n.typography.largeAvatar,backgroundColor:n.palette.primary[800],color:"#fff"},children:(0,j.jsx)(p.Z,{fontSize:"inherit"})})}),(0,j.jsx)(k.Z,{sx:{py:0,mt:.45,mb:.45},primary:(0,j.jsxs)(d.Z,{variant:"h4",sx:{color:"#fff"},children:["\u20b9 ",t]}),secondary:(0,j.jsx)(d.Z,{variant:"subtitle2",sx:{color:"primary.light",mt:.25},children:r})})]})})})})})},S=r(1707);const E=(0,i.ZP)(x.Z)((e=>{let{theme:t}=e;return{backgroundColor:t.palette.secondary.dark,color:t.palette.secondary.light,overflow:"hidden",position:"relative","&:after":{content:'""',position:"absolute",width:210,height:210,background:`linear-gradient(210.04deg, ${t.palette.primary[200]} -50.94%, rgba(144, 202, 249, 0) 83.49%)`,borderRadius:"50%",top:-30,right:-180},"&:before":{content:'""',position:"absolute",width:210,height:210,background:`linear-gradient(140.9deg, ${t.palette.primary[200]} -14.02%, rgba(144, 202, 249, 0) 77.58%)`,borderRadius:"50%",top:-160,right:-130}}}));var z=e=>{let{totalJobCards:t,name:r}=e;const n=(0,a.Z)();return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(E,{border:!1,content:!1,children:(0,j.jsx)(o.Z,{sx:{p:2},children:(0,j.jsx)(v.Z,{sx:{py:0},children:(0,j.jsxs)(y.ZP,{alignItems:"center",disableGutters:!0,sx:{py:0},children:[(0,j.jsx)(P.Z,{children:(0,j.jsx)(l.Z,{variant:"rounded",sx:{...n.typography.commonAvatar,...n.typography.largeAvatar,backgroundColor:n.palette.secondary[800],color:"#fff"},children:(0,j.jsx)(S.Z,{fontSize:"inherit"})})}),(0,j.jsx)(k.Z,{sx:{py:0,mt:.45,mb:.45},primary:(0,j.jsx)(d.Z,{variant:"h4",sx:{color:"#fff"},children:t}),secondary:(0,j.jsx)(d.Z,{variant:"subtitle2",sx:{color:"secondary.light",mt:.25},children:r})})]})})})})})},T=r(6835),D=r(3477),R=r(4076),I=r(7478),W=r(3467),J=r(1689),M=r(7131),Y=r(4481),A=r(2401),_=r(9881),F=r(3984);const $=(0,i.ZP)(x.Z)((e=>{let{theme:t}=e;return{overflow:"hidden",position:"relative","&:after":{content:'""',position:"absolute",width:210,height:210,background:`linear-gradient(210.04deg, ${t.palette.success.dark} -50.94%, rgba(144, 202, 249, 0) 83.49%)`,borderRadius:"50%",top:-30,right:-180},"&:before":{content:'""',position:"absolute",width:210,height:210,background:`linear-gradient(140.9deg, ${t.palette.success.dark} -14.02%, rgba(144, 202, 249, 0) 70.50%)`,borderRadius:"50%",top:-160,right:-130}}}));var L=function(){const[e,t]=(0,n.useState)([]),[r,i]=n.useState(!1),[a,o]=n.useState(""),[l,c]=n.useState("");(0,n.useEffect)((()=>(d(),()=>{t([])})),[]);const d=()=>{fetch("http://localhost:8080/stats/sparesEvents").then((async e=>{if(!e.ok){const t=await e.text();throw new Error(t||e.statusText)}return e.json()})).then((e=>{t(e)})).catch((e=>{console.log(e.message)}))};return(0,j.jsx)("div",{children:(0,j.jsx)($,{border:!1,content:!1,children:(0,j.jsx)(x.Z,{title:"Spares Inventory Shortage",children:(0,j.jsx)(s.ZP,{container:!0,direction:"row",spacing:A.dv,children:(0,j.jsxs)(s.ZP,{item:!0,xs:12,children:[r&&(0,j.jsx)(F.Z,{sx:{width:"100%"},spacing:2,children:(0,j.jsx)(_.Z,{variant:"filled",severity:l,onClose:()=>i(!1),children:a})}),(0,j.jsx)(s.ZP,{item:!0,xs:12,children:(0,j.jsx)("div",{style:{overflowX:"auto"},children:(0,j.jsxs)(T.Z,{children:[(0,j.jsx)(D.Z,{children:(0,j.jsxs)(R.Z,{children:[(0,j.jsx)(I.Z,{children:"Shortage Events"}),(0,j.jsx)(I.Z,{children:"Event Time"}),(0,j.jsx)(I.Z,{children:"Action"})]})}),(0,j.jsx)(W.Z,{children:e.map(((e,r)=>(0,j.jsxs)(R.Z,{children:[(0,j.jsx)(I.Z,{children:null===e||void 0===e?void 0:e.notif}),(0,j.jsx)(I.Z,{children:null===e||void 0===e?void 0:e.time}),(0,j.jsx)(I.Z,{children:(0,j.jsx)(J.Z,{arrow:!0,placement:"right",title:"Delete",children:(0,j.jsx)(M.Z,{onClick:()=>{(async e=>{await fetch("http://localhost:8080/stats/sparesEvents/"+e,{method:"DELETE",headers:{"Content-type":"application/json; charset=UTF-8"}}).then((async e=>{if(!e.ok){const t=await e.text();throw new Error(t||e.statusText)}return e.json()})).then((e=>{o("Spares Event deleted successfully"),c("success"),i(!0),t(e)})).catch((e=>{o(e.message),c("info"),i(!0)}))})(e.id)},children:(0,j.jsx)(Y.Z,{})})})})]},r)))})]})})})]})})})})})};var G=()=>{const[e,t]=(0,n.useState)(0),[r,i]=(0,n.useState)(0),[a,o]=(0,n.useState)(!1);(0,n.useEffect)((()=>{l(),c()}),[]);const l=()=>{fetch("http://localhost:8080/stats/totalRevenue").then((async e=>{if(!e.ok){const t=await e.text();throw new Error(t||e.statusText)}return e.json()})).then((e=>{t(e),o(!0)})).catch((e=>{console.log(e.message)}))},c=()=>{fetch("http://localhost:8080/stats/totalJobCards").then((async e=>{if(!e.ok){const t=await e.text();throw new Error(t||e.statusText)}return e.json()})).then((e=>{i(e),o(!0)})).catch((e=>{console.log(e.message)}))};return(0,j.jsxs)(s.ZP,{container:!0,spacing:A.dv,children:[(0,j.jsx)(s.ZP,{item:!0,xs:12,children:(0,j.jsxs)(s.ZP,{container:!0,spacing:A.dv,children:[(0,j.jsx)(s.ZP,{item:!0,lg:4,md:6,sm:6,xs:12,children:(0,j.jsx)(f,{})}),(0,j.jsx)(s.ZP,{item:!0,lg:4,md:12,sm:12,xs:12,children:(0,j.jsxs)(s.ZP,{container:!0,spacing:A.dv,children:[(0,j.jsx)(s.ZP,{item:!0,sm:6,xs:12,md:6,lg:12,children:a&&(0,j.jsx)(z,{totalJobCards:r.total,name:"Total JobCards"})}),(0,j.jsx)(s.ZP,{item:!0,sm:6,xs:12,md:6,lg:12,children:a&&(0,j.jsx)(z,{totalJobCards:r.open,name:"Total Open JobCards"})})]})}),(0,j.jsx)(s.ZP,{item:!0,lg:4,md:12,sm:12,xs:12,children:(0,j.jsxs)(s.ZP,{container:!0,spacing:A.dv,children:[(0,j.jsx)(s.ZP,{item:!0,sm:6,xs:12,md:6,lg:12,children:a&&(0,j.jsx)(z,{totalJobCards:r.closed,name:"Total Closed JobCards"})}),(0,j.jsx)(s.ZP,{item:!0,sm:6,xs:12,md:6,lg:12,children:a&&(0,j.jsx)(z,{totalJobCards:r.cancelled,name:"Total Cancelled JobCards"})})]})})]})}),(0,j.jsx)(s.ZP,{item:!0,xs:12,children:(0,j.jsxs)(s.ZP,{container:!0,spacing:A.dv,children:[(0,j.jsx)(s.ZP,{item:!0,lg:4,md:6,sm:6,xs:12,children:(0,j.jsx)(u,{})}),(0,j.jsx)(s.ZP,{item:!0,lg:4,md:12,sm:12,xs:12,children:(0,j.jsxs)(s.ZP,{container:!0,spacing:A.dv,children:[(0,j.jsx)(s.ZP,{item:!0,sm:6,xs:12,md:6,lg:12,children:a&&(0,j.jsx)(C,{totalRevenue:e.total,name:"Total Income"})}),(0,j.jsx)(s.ZP,{item:!0,sm:6,xs:12,md:6,lg:12,children:a&&(0,j.jsx)(C,{totalRevenue:e.totalSparesWorth,name:"Total Spares Worth"})})]})}),(0,j.jsx)(s.ZP,{item:!0,lg:4,md:12,sm:12,xs:12,children:(0,j.jsxs)(s.ZP,{container:!0,spacing:A.dv,children:[(0,j.jsx)(s.ZP,{item:!0,sm:6,xs:12,md:6,lg:12,children:a&&(0,j.jsx)(C,{totalRevenue:e.spares,name:"Total Income From Spares"})}),(0,j.jsx)(s.ZP,{item:!0,sm:6,xs:12,md:6,lg:12,children:a&&(0,j.jsx)(C,{totalRevenue:e.labor,name:"Total Income From Labor"})})]})})]})}),(0,j.jsx)(s.ZP,{item:!0,xs:12,children:(0,j.jsx)(s.ZP,{container:!0,spacing:A.dv,children:(0,j.jsx)(s.ZP,{item:!0,xs:12,md:12,children:(0,j.jsx)(L,{})})})})]})}}}]);
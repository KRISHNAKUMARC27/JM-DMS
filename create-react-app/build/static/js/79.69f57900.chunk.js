"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[79],{9650:function(e,s,a){a.r(s);var t=a(7313),c=a(9019),l=a(3306),r=a(8797),n=a(1405),o=a(4631),i=a(1095),d=a(3497),u=a(2401),m=a(9881),h=a(3984),g=a(3483),x=a(6417);s.default=function(e){let{data:s,setConsumablesUpdateOpen:a,fetchAllConsumablesData:y}=e;const[b,f]=(0,t.useState)(s||{}),[j,p]=(0,t.useState)([]),[C,v]=t.useState(!1),[Z,_]=t.useState(""),[w,k]=t.useState("");(0,t.useEffect)((()=>(S(),()=>{f({}),p([])})),[]),(0,t.useEffect)((()=>{f(s||{})}),[s]);const S=async()=>{try{const e=await(0,g.A_)("/api/consumables/consumablesCategory");p(e)}catch(e){console.error(e.message)}};return(0,x.jsxs)("div",{children:[(0,x.jsx)(d.Z,{title:"Enter Consumables Details",children:(0,x.jsxs)(c.ZP,{container:!0,direction:"row",spacing:u.dv,children:[(0,x.jsxs)(c.ZP,{item:!0,xs:3,children:[(0,x.jsx)(l.Z,{id:"demo-select-small",required:!0,children:"Category Type"}),(0,x.jsx)(r.Z,{labelId:"demo-select-small",id:"demo-select-small",value:b.category||"",label:"Category Type",onChange:e=>{const s={...b,category:e.target.value};f(s)},children:j.map((e=>(0,x.jsx)(n.Z,{value:e.category,children:e.category},e.id)))})]}),(0,x.jsxs)(c.ZP,{item:!0,xs:6,children:[(0,x.jsx)("br",{}),(0,x.jsx)(o.Z,{label:"Consumables Description",required:!0,variant:"standard",fullWidth:!0,value:b.desc||"",onChange:e=>{const s={...b,desc:e.target.value};f(s)}})]})]})}),(0,x.jsx)("br",{}),(0,x.jsx)("div",{className:"content",children:b.category&&b.desc&&(0,x.jsx)(i.Z,{variant:"contained",color:"error",onClick:()=>(async e=>{try{const s=await(0,g.j0)("/api/consumables",e);y&&y(),a&&a(!1),_(s.desc+" added successfully "),k("success"),v(!0),console.log(s)}catch(s){console.log(s.message),_(s.message),k("info"),v(!0)}})(b),children:"Add/Update Consumables"})}),C&&(0,x.jsx)(h.Z,{sx:{width:"100%"},spacing:2,children:(0,x.jsx)(m.Z,{variant:"filled",severity:w,onClose:()=>v(!1),children:Z})})]})}}}]);